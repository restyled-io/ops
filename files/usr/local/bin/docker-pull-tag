#!/bin/sh
if [ -z "$1" ]; then
  cat >&2 <<EOM

Usage: docker-pull-push SOURCE_IMAGE[:TAG] [TARGET_IMAGE[:TAG]]

Pull SOURCE_IMAGE and optionally tag it as TARGET_IMAGE
EOM
  exit 64
fi

source_image=$1
target_image=${2:-$source_image}

if docker pull "$source_image"; then
  docker tag "$source_image" "$target_image"
else
  exit 1
fi
